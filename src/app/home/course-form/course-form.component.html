<h1>{{ title }}</h1>
<form class="row col-12 col-sm-9 col-md-7 col-lg-5" [formGroup]="form" (ngSubmit)="onSubmit()">
  <div class="row">
    <div class="col-3">
      <label class="form-label">Code * </label>
    </div>
    <div class="col-9">
      <input class="form-control" formControlName="code" name="code">
      <p class="error-text form-text" *ngIf="(form.controls.code?.dirty || form.controls.code?.touched) && form.controls.code?.invalid"> Code must be unique and between 2-7 characters long </p>
    </div>
  </div>

  <div class="row">
    <div class="col-3">
      <label class="form-label">Name * </label>
    </div>
    <div class="col-9">
      <input class="form-control" formControlName="name" name="name"> 
      <p class="error-text form-text" *ngIf="(form.controls.name?.dirty || form.controls.name?.touched) && form.controls.name?.invalid"> Course name must be unique in the respective department </p>
    </div>
  </div>

  <div class="row">
    <div class="col-3">
      <label class="form-label">Credit * </label>
    </div>
    <div class="col-9">
      <input class="form-control" type="number" formControlName="credit" name="credit"> 
      <p class="error-text" *ngIf="(form.controls.credit.dirty || form.controls.credit.touched) && form.controls.credit?.invalid"> Credit must to be between 0.5 and 5.0 </p>
    </div>
  </div>  
  
  <div class="row">
    <div class="col-3">
      <label class="form-label">Description * </label>
    </div>
    <div class="col-9">
     <textarea class="form-control" formControlName="description" name="description"></textarea>
     <p class="error-text form-text" *ngIf="(form.controls.description.dirty || form.controls.description.touched) && form.controls.description?.invalid"> Description should be minimum 30 characters </p>
    </div>
  </div>

  <div class="row">
    <div class="col-3">  
      <label class="form-label">Department * </label>
    </div>
    <div class="col-9">
      <select class="form-control" formControlName="departmentId" name="departmentId">
          <option *ngFor="let dept of departments" [value]="dept.id">
              {{ dept.name }}
          </option>
      </select>
      <p class="error-text" *ngIf="(form.controls.departmentId.dirty || form.controls.departmentId.touched) && form.controls.departmentId?.invalid"> Department must be chosen </p>
    </div>
  </div>

  <div class="row">
    <div class="col-3">
      <label class="form-label">Select Semister * </label>
    </div>
    <div class="col-9">
      <select class="form-control" formControlName="semisterId" name="semisterId">
        <option *ngFor="let sem of semisters" [value]="sem.id">
            {{ sem.name }}
        </option>
      </select>
      <p class="error-text" *ngIf="(form.controls.semisterId.dirty || form.controls.semisterId.touched) && form.controls.semisterId?.invalid"> Semister must be chosen </p>
    </div>
  </div>

  <div class="row">
    <div class="col-9 col-md-10"></div>
    <div class="col-3 col-md-2">
      <button type="submit" [disabled]="form.invalid" mat-flat-button color="primary">Save</button>
    </div>
  </div>
</form>
