<h1>{{ title }}</h1>
<form [formGroup]="form" novalidate (ngSubmit)="onSubmit()">
  <mat-form-field>
    <mat-label>Course Code * </mat-label>
    <input matInput formControlName="code" name="code">
  </mat-form-field>
  <p class="error-text" *ngIf="form.controls.code.touched && form.controls.code?.invalid"> Code must be unique and between 2-7 characters long </p>

  <mat-form-field>
    <mat-label>Course Name * </mat-label>
    <input matInput formControlName="name" name="name"> 
  </mat-form-field>
  <p class="error-text" *ngIf="form.controls.name.touched && form.controls.name?.invalid"> Name is required </p>

  <mat-form-field>
    <mat-label>Course Credit * </mat-label>
    <input matInput type="number" formControlName="credit" name="credit"> 
  </mat-form-field>  
  <p class="error-text" *ngIf="form.controls.credit.touched && form.controls.credit?.invalid"> Credit must to be between 0.5 and 5.0 </p>
  
  <mat-form-field>
    <mat-label>Course Description</mat-label>
    <textarea matInput formControlName="description" name="description"></textarea>
  </mat-form-field>
  <p class="error-text" *ngIf="form.controls.description.touched && form.controls.description?.invalid"> Description should be minimum 30 characters </p>

  <mat-form-field>
      <mat-label>Select Department * </mat-label>
      <mat-select formControlName="departmentId" name="departmentId">
          <mat-option *ngFor="let dept of departments" [value]="dept.id">
              {{ dept.name }}
          </mat-option>
      </mat-select>
  </mat-form-field>
  <p class="error-text" *ngIf="form.controls.departmentId.touched && form.controls.departmentId?.invalid"> Department must be chosen </p>

  <mat-form-field>
    <mat-label>Select Semister * </mat-label>
    <mat-select formControlName="semisterId" name="semisterId">
        <mat-option *ngFor="let sem of semisters" [value]="sem.id">
            {{ sem.name }}
        </mat-option>
    </mat-select>
  </mat-form-field>
  <p class="error-text" *ngIf="form.controls.semisterId.touched && form.controls.semisterId?.invalid"> Semister must be chosen </p>

  <button type="submit" [disabled]="form.invalid" mat-flat-button color="primary" style="width:30px; margin-left: auto;">Save</button>
</form>
