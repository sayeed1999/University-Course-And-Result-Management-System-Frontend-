<h1>{{ title }}</h1>
<form [formGroup]="form" (ngSubmit)="onSubmit()">
    <mat-form-field>
        <mat-label>Student Registration Number</mat-label>
        <mat-select [formControl]="student" name="student" id="student" required>
            <mat-option *ngFor="let s of students" [value]="s">
                {{ s.registrationNumber }}
            </mat-option>
        </mat-select>
        <mat-error> Please select a student </mat-error>
    </mat-form-field>  
    <mat-form-field>
        <mat-label> Name </mat-label>
        <input matInput readonly formControlName="name" name="name" id="name"> 
    </mat-form-field>    
    <mat-form-field>
        <mat-label> Email </mat-label>
        <input matInput readonly formControlName="email" name="email" id="email"> 
        <mat-error> Email should be provided in valid format </mat-error>  
    </mat-form-field>
    <mat-form-field>
        <mat-label> Department </mat-label>
        <input matInput readonly formControlName="deptCode" name="deptCode" id="deptCode"> 
    </mat-form-field>    
    <mat-form-field>
      <mat-label>Select Course</mat-label>
      <mat-select formControlName="courseCode" name="courseCode" id="courseCode" required>
          <mat-option *ngFor="let c of courses" [value]="c.code">
              {{ c.code }}
          </mat-option>
      </mat-select>
      <mat-error *ngIf="!form.controls?.reg?.valid"> Select student registration number first </mat-error>
    </mat-form-field>
    <mat-form-field *ngIf="this.mode=='enroll' else elseblock">
        <input matInput [matDatepicker]="picker1" formControlName="date" name="date" placeholder="Pick a Date" required>
        <mat-datepicker-toggle matSuffix [for]="picker1"></mat-datepicker-toggle>
        <mat-datepicker #picker1></mat-datepicker>
    </mat-form-field>
    <ng-template #elseblock>
        <!-- <mat-form-field>
          <mat-label>Select Grade Letter</mat-label>
            <mat-select formControlName="grade" name="grade" id="grade" required>
                <mat-option *ngFor="let g of grades" [value]="g.grade">
                    {{ g.grade }}
                </mat-option>
            </mat-select>
            <mat-error> Please select a course </mat-error>
          </mat-form-field>       -->
    </ng-template>
  <button type="submit" [disabled]="form.invalid" mat-flat-button color="primary" style="width:30px; margin-left: auto;">Save</button>
</form>
