<h1>{{ title }}</h1>
<form class="row col-11 col-sm-10 col-md-9 col-lg-7" [formGroup]="form" (ngSubmit)="onSubmit()">
  
  <div class="row">
    <div class="col-3">
      <label class="form-label">Name</label>
    </div>
    <div class="col-9">
      <input class="form-control" formControlName="name" name="name" id="name">
      <p class="error-text form-text" *ngIf="(form.controls.name.dirty || form.controls.name.touched) && form.controls.name.invalid"> Name is required </p>
    </div>
  </div>
  
  <div class="row">
    <div class="col-3">
      <label class="form-label"> Email </label>
    </div>
    <div class="col-9">
      <input class="form-control" formControlName="email" name="email" id="email" email> 
      <p class="error-text form-text" *ngIf="(form.controls.email.dirty || form.controls.email.touched) && form.controls.email.invalid"> Email should be valid & unique </p>
    </div>
  </div>
  
  <div class="row">
    <div class="col-3">
      <label class="form-label"> Contact No. </label>
    </div>
    <div class="col-9">
      <input class="form-control" type="number" formControlName="contact" name="contact" id="contact"> 
      <p class="error-text form-text" *ngIf="(form.controls.contact.dirty || form.controls.contact.touched) && form.controls.contact.invalid"> Contact is required </p>
    </div>
  </div>
  
  <div class="row">
    <div class="col-3">
      <label class="form-label"> Date </label>
    </div>
    <div class="col-9" style="display: flex">
        <input class="form-control" [matDatepicker]="picker1" formControlName="date" name="date">
        <mat-datepicker-toggle matSuffix [for]="picker1"></mat-datepicker-toggle>
        <mat-datepicker #picker1></mat-datepicker>
    </div>
  </div>

  <div class="row">
    <div class="col-3">
      <label class="form-label"> Address </label>
    </div>
    <div class="col-9">
      <input class="form-control" formControlName="address" name="address" id="address"> 
      <p class="error-text form-text" *ngIf="(form.controls.address.dirty || form.controls.address.touched) && form.controls.address.invalid"> Address is required </p>
    </div>
  </div>
  
  <div class="row">
    <div class="col-3">
        <label class="form-label">Select Department</label>
    </div>
    <div class="col-9">
      <select class="form-control" formControlName="departmentId" name="departmentId" id="departmentId">
        <option *ngFor="let dept of departments" [value]="dept.id">
          {{ dept.name }}
        </option>
      </select>
      <p class="error-text form-text" *ngIf="(form.controls.departmentId.dirty || form.controls.departmentId.touched) && form.controls.departmentId.invalid"> Department must be chosen </p>
    </div>  
  </div>

  <div class="row">
    <div class="col-9 col-md-10"></div>
    <div class="col-3 col-md-2">
      <button type="submit" [disabled]="form.invalid" mat-flat-button color="primary"> Register </button>
    </div>
  </div>

</form>
